(window["webpackJsonplookup-client"]=window["webpackJsonplookup-client"]||[]).push([[0],{171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(82),r=a.n(c),o=a(29),s=a(30),i=a(32),d=a(31),m=a(33);function u(e){var t=e.foods,a=t.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.description),l.a.createElement("td",{className:"right aligned"},t.kcal),l.a.createElement("td",{className:"right aligned"},t.protein_g),l.a.createElement("td",{className:"right aligned"},t.fat_g),l.a.createElement("td",{className:"right aligned"},t.carbohydrate_g),l.a.createElement("td",{className:"centre aligned"},l.a.createElement("a",{href:"https://www.google.com/search?q="+t.description,target:"_blank"},"additional details")),l.a.createElement("td",{onClick:function(){return e.onFoodClick(a)}},"remove"))});return l.a.createElement("table",{className:"ui selectable structured large table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"7"},l.a.createElement("h3",null,"Selected foods"))),l.a.createElement("tr",null,l.a.createElement("th",{className:"eight wide"},"Description"),l.a.createElement("th",null,"Kcal"),l.a.createElement("th",null,"Protein (g)"),l.a.createElement("th",null,"Fat (g)"),l.a.createElement("th",null,"Carbs (g)"),l.a.createElement("th",null,"additional info"),l.a.createElement("th",null," "))),l.a.createElement("tbody",null,a),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",{className:"right aligned",id:"total-kcal"},h(t,"kcal")),l.a.createElement("th",{className:"right aligned",id:"total-protein_g"},h(t,"protein_g")),l.a.createElement("th",{className:"right aligned",id:"total-fat_g"},h(t,"fat_g")),l.a.createElement("th",{className:"right aligned",id:"total-carbohydrate_g"},h(t,"carbohydrate_g")),l.a.createElement("th",{className:"right aligned",id:"additional_info"}),l.a.createElement("th",{className:"right aligned",id:"remove"}))))}function h(e,t){return e.reduce(function(e,a){return parseInt(a[t],10)+e},0).toFixed(2)}function E(e){if(e.status>=200&&e.status<300)return e;var t=new Error("HTTP Error ".concat(e.statusText));throw t.status=e.statusText,t.response=e,console.log(t),t}function g(e){return e.json()}var f={search:function(e,t){return fetch("api/food?q=".concat(e),{accept:"application/json"}).then(E).then(g).then(t)}},p=25,v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={foods:[],showRemoveIcon:!1,searchValue:""},a.handleSearchChange=function(e){var t=e.target.value;a.setState({searchValue:t}),""===t?a.setState({foods:[],showRemoveIcon:!1}):(a.setState({showRemoveIcon:!0}),f.search(t,function(e){a.setState({foods:e.slice(0,p)})}))},a.handleSearchCancel=function(){a.setState({foods:[],showRemoveIcon:!1,searchValue:""})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.showRemoveIcon?{}:{visibility:"hidden"},n=t.foods.map(function(t,a){return l.a.createElement("tr",{key:a,onClick:function(){return e.props.onFoodClick(t)}},l.a.createElement("td",null,t.description),l.a.createElement("td",{className:"right aligned"},t.kcal),l.a.createElement("td",{className:"right aligned"},t.protein_g),l.a.createElement("td",{className:"right aligned"},t.fat_g),l.a.createElement("td",{className:"right aligned"},t.carbohydrate_g))});return l.a.createElement("div",{id:"food-search"},l.a.createElement("table",{className:"ui selectable structured large table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5"},l.a.createElement("div",{className:"ui fluid search"},l.a.createElement("div",{className:"ui icon input"},l.a.createElement("input",{className:"prompt",type:"text",placeholder:"Search foods...",value:this.state.searchValue,onChange:this.handleSearchChange}),l.a.createElement("i",{className:"search icon"})),l.a.createElement("i",{className:"remove icon",onClick:this.handleSearchCancel,style:a})))),l.a.createElement("tr",null,l.a.createElement("th",{className:"eight wide"},"Description"),l.a.createElement("th",null,"Kcal"),l.a.createElement("th",null,"Protein (g)"),l.a.createElement("th",null,"Fat (g)"),l.a.createElement("th",null,"Carbs (g)"))),l.a.createElement("tbody",null,n)))}}]),t}(l.a.Component),b=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={selectedFoods:[]},a.removeFoodItem=function(e){var t=a.state.selectedFoods.filter(function(t,a){return e!==a});a.setState({selectedFoods:t})},a.addFood=function(e){var t=a.state.selectedFoods.concat(e);a.setState({selectedFoods:t})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.selectedFoods;return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"ui text container"},l.a.createElement(u,{foods:e,onFoodClick:this.removeFoodItem}),l.a.createElement(v,{onFoodClick:this.addFood})))}}]),t}(n.Component);a(171),a(172);r.a.render(l.a.createElement(b,null),document.getElementById("root"))},83:function(e,t,a){e.exports=a(173)}},[[83,1,2]]]);
//# sourceMappingURL=main.a88ee5ad.chunk.js.map